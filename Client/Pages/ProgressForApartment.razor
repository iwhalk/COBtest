@page "/ProgressForApartment"

<div id="Contenedor" class="min-h-screen bg-[url('/assets/img/imgFondo.png')] z-0 opacity-25 imgfondo fixed inset-0 bg-gray-500 bg-opacity-25 transition-opacity"></div>
<div class="md:p-10 p-20 md:pb-32 mt-12 fixed inset-0">    
    <div class="h-full block border border-stone-300 rounded-2xl">
        <div class="w-full inline-flex">
            <div class="md:w-2/6 xl:w-1/6 md:p-1 p-2">
                <h1 class="rounded-br-lg rounded-tl-2xl text-xl text-white font-medium leading-6 bg-[#162D4E] text-center md:p-2 xl:p-5">Departamentos</h1>
            </div>
            <div class="md:w-4/6 xl:w-5/6 md:p-1 p-2">
                <h1 class="rounded-br-lg rounded-tl-2xl text-xl text-white font-medium leading-6 bg-[#162D4E] text-center md:p-2 xl:p-5">Avance General</h1>
            </div>
        </div>
        <div class="grid grid-cols-1">
            <div class="overflow-y-auto md:h-[31rem] xl:h-[40rem]">
                <div class="w-full inline-flex">
                    <div class="md:w-2/6 xl:w-1/6 p-1">
                        <div class="@(_isFullAparment ? "bg-[#9CA2A8]" : "bg-[#55595E]") border border-stone-40 md:h-12 xl:h-14">
                            <button @onclick="() => FullAparment()" class="w-full">
                                <p class="text-lg text-white font-medium leading-6 text-center md:p-1 xl:p-3">Todos</p>
                            </button>
                        </div>                        
                    </div>
                    <div class="md:w-4/6 xl:w-5/6 inline-flex p-1"></div>
                </div>           
                @if (_context.Apartment != null)
                {                    
                    @foreach (var apartment in _context.Apartment)
                    {                    
                        <div class="w-full inline-flex">                            
                            <div class="md:w-2/6 xl:w-1/6 p-0.5">
                                <div class="@(_idsAparmentSelect.Contains(apartment.IdApartment) && _isFullAparment == false ? "bg-[#9CA2A8]" : "bg-[#55595E]") border border-stone-400 md:h-8 xl:h-12 xl:p-3">
                                    <button @onclick="() => AddIdAparmentSelect(apartment.IdApartment)" class="w-full">
                                        <p class="text-lg md:text-sm xl:text-lg text-white font-medium leading-6 text-center">@apartment.ApartmentNumber</p>
                                    </button>
                                </div>
                            </div>                            
                            @if (_idsAparmentSelect.Contains(apartment.IdApartment))
                            {
                                <div class="md:w-4/6 xl:w-5/6 inline-flex p-0.5">
                                    <div class="bg-[#115D28] md:h-8 xl:h-12 md:text-sm xl:text-lg text-white text-end w-[70%] md:p-1 xl:p-3">70%</div>
                                    <div class="bg-[#CB3030] md:h-8 xl:h-12 md:text-sm xl:text-lg text-white text-end w-[30%] md:p-1 xl:p-3">30%</div>
                                </div> 
                            }
                        </div>
                    }
                }
                else
                {
                    <div class="h-full w-1/6">
                        <FluentProgress></FluentProgress>
                    </div>
                }
            </div>
        </div>
    </div>
    <div class="w-full flex py-3">
        <button class="mx-auto bg-[#B9352E] hover:bg-red-500 w-32 p-2 rounded-2xl text-lg text-white font-medium leading-6 border border-stone-400 hover:border-white">Descargar</button>
    </div>      
</div>    
<Navbar></Navbar>
<Footer></Footer>
<label class="fixed top-0 mx-64 left-0 right-0 text-2xl text-white leading-6 text-center py-2 mt-3">Resumen Avance Por Departamento</label>